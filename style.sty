\usepackage[utf8]{inputenc}
\usepackage[british]{babel}
\usepackage{hyperref}
\usepackage{lipsum}
\usepackage{caption}
\captionsetup{width=.99\textwidth}
\usepackage{subcaption} % Enable subfigures

\usepackage{comment} % Enables:
% \begin{comment} 
% Commented out text. 
% \end{comment}

\usepackage{xcolor}
\usepackage{physics}
\usepackage{verbatim}
\usepackage{cprotect}
\usepackage{wasysym}

\PassOptionsToPackage{unicode}{hyperref}

\usepackage{graphicx} 
\usepackage[inkscapearea=page]{svg}
\usepackage{adjustbox}
\usepackage{float}      % Enable force image location using "H"
\usepackage{url}
\usepackage{siunitx}
\usepackage{tikz,ifthen}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{positioning}


\usepackage{bm}     % Bold text in math mode
\usepackage{amsmath}    %  Math formulas and improved typographical quality of their output
\usepackage{amssymb}    % Extended symbol collection
\usepackage{amsthm} % Helps define theorem-like structures
\usepackage[version=4]{mhchem}


% --- Color definitions ---
\definecolor{ntnu_support_turquoise}{RGB}{68, 186, 190}
\definecolor{ntnu_support_turquoise_light}{RGB}{151, 210, 212}
\definecolor{ntnu_support_blue}{RGB}{96, 150, 208}
\definecolor{special_green}{RGB}{82, 168, 82}


% --- Fancy page setup ---
\usepackage[a4paper, top=35mm, bottom=35mm, left=28mm, right=28mm]{geometry}
\setlength{\headheight}{15pt}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0.1ex}
\renewcommand{\footrulewidth}{0pt}
\fancyhead[LE,RO]{\thepage}
\fancyhead[LO,RE]{\leftmark}

% Redefine plain pagestyle used by \chapter
\fancypagestyle{plain}{
    \fancyhf{}
    \fancyhead[LE,RO]{\thepage}
    \renewcommand{\footrulewidth}{0pt}
}

% Settings for how the code is formatted
\usepackage{listings}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\lstdefinestyle{code_style}{
    commentstyle=\color{codegray},
    keywordstyle=\color{codegreen},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\sffamily\scriptsize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
\lstset{style=code_style}


% Define the command \micron to write proper micrometre
\newcommand{\micron}{\textmu m}


% --- Appendices ---
\usepackage{appendix}
\newcommand{\addappendix}{   % Self-created command to insert appendix with predefined settings
    \newpage
    \appendix
    % \renewcommand{\thesection}{\Alph{section}}    % Change numbering of section to upper-case letters.
    \renewcommand\thefigure{\thechapter.\arabic{figure}}
    \renewcommand\thetable{\thechapter.\arabic{table}}
}


% --- Bibliography & References--- 
\usepackage{csquotes}
\usepackage[backend = biber,    % Recommended backend for sorting bibliography
            sorting = none,
            style = numeric,     % Physics citation method
            %authoryear-comp,    % Close to the 'Harvard' referencing style
            date = year,        % Making sure only the year is included in the reference list
            urldate = long,     % Long: 24th Mar. 1997 | Short: 24/03/1997
            maxcitenames = 2,   % Number of authors in cite before replaced with 'Author#1 et al.'
            doi=false,
            isbn=false,
            url=false,
            eprint=false]{biblatex}
\AtEveryBibitem{\clearfield{pagetotal}}
\addbibresource{references.bib} % Adding our file containing the references
\addbibresource{additional_references.bib}


\hypersetup{    % Color of hyper-references
    colorlinks,
    citecolor = black,
    filecolor = black,
    linkcolor = black,
    urlcolor = black
}


% --- Front matter ---
% Front matter is located before the table of contents, e.g. preface (Norsk: forord) and has separate settings
\usepackage{titlesec}
\newcommand{\frontmatter}{
    \pagenumbering{roman}   % Setting page numbering to lower-case roman
    % \newcommand{\sectionbreak}{\clearpage}
    % \setcounter{secnumdepth}{0}
}
% Automated acronym handling
\usepackage[printonlyused]{acronym}
% to modify default formatting, you can redefine the formatting for the \acf \acs and ac commands
% \renewcommand*\acffont{\textit}
% \renewcommand*\acsfont{\textbf}
% \renewcommand*\acfsfont{\underline}

% --- Main matter ---
% This is the main part of the paper.
\newcommand{\mainmatter}{
    \newpage
    \pagenumbering{arabic}  % Setting page numbering to normal integers
}
